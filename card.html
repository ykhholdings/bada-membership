<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BADA Membership Card</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .header h1 {
            color: white;
            font-size: 24px;
        }

        .settings-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
        }

        .settings-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        /* ë©¤ë²„ì‹­ ì¹´ë“œ */
        .membership-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border: 2px solid #d4af37;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .membership-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(212,175,55,0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .card-header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }

        .card-tier {
            color: #d4af37;
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }

        .card-name {
            color: white;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .qr-container {
            background: white;
            padding: 15px;
            border-radius: 12px;
            display: inline-block;
            margin-bottom: 15px;
        }

        .qr-code {
            width: 150px;
            height: 150px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #666;
        }

        .card-phone {
            color: #d4af37;
            font-size: 16px;
            font-weight: 600;
        }

        /* í¬ì¸íŠ¸ ì„¹ì…˜ */
        .points-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .points-label {
            color: #d4af37;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .points-value {
            color: white;
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .points-aed {
            color: #9ca3af;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .progress-bar {
            background: rgba(255,255,255,0.1);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #d4af37 0%, #f4e5b1 100%);
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease-out;
        }

        .progress-text {
            color: #9ca3af;
            font-size: 12px;
        }

        /* ì¿ í° ì„¹ì…˜ */
        .section-title {
            color: white;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .coupons-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 25px;
        }

        .coupon-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #d4af37;
            transition: all 0.3s;
        }

        .coupon-card:hover {
            transform: translateX(5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .coupon-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .coupon-title {
            color: #1a1a1a;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .coupon-badge {
            background: #10b981;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
        }

        .coupon-description {
            color: #4b5563;
            font-size: 14px;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .coupon-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .coupon-expiry {
            color: #9ca3af;
            font-size: 12px;
        }

        .use-btn {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .use-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .use-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        /* í™œë™ ì„¹ì…˜ */
        .activity-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .activity-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .activity-item {
            text-align: center;
        }

        .activity-label {
            color: #9ca3af;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .activity-value {
            color: white;
            font-size: 18px;
            font-weight: 700;
        }

        /* ì•¡ì…˜ ë²„íŠ¼ë“¤ */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .action-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            padding: 14px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        /* ë‹¤ìŒ ë¦¬ì›Œë“œ */
        .next-reward {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            font-size: 14px;
            line-height: 1.5;
        }

        /* ë¡œë”© */
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: white;
        }

        .spinner {
            border: 4px solid rgba(255,255,255,0.1);
            border-top: 4px solid #d4af37;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ì—ëŸ¬ */
        .error-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 400px;
            margin: 100px auto;
        }

        .error-container h2 {
            color: #dc2626;
            margin-bottom: 15px;
        }

        .error-container p {
            color: #4b5563;
            margin-bottom: 20px;
        }

        .error-btn {
            background: #1a1a1a;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        /* í™˜ì˜ ë°°ë„ˆ (ì‹ ê·œ ê°€ì…ì) */
        .welcome-banner {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .welcome-banner h3 {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .welcome-banner p {
            font-size: 14px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- ë¡œë”© ìƒíƒœ -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Loading your membership...</p>
    </div>

    <!-- ì—ëŸ¬ ìƒíƒœ -->
    <div id="error" class="error-container" style="display: none;">
        <h2>ğŸ˜• Oops!</h2>
        <p id="errorMessage">Could not load your membership card.</p>
        <button class="error-btn" onclick="window.location.href='index.html'">
            Back to Registration
        </button>
    </div>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div id="mainContent" class="container" style="display: none;">
        <div class="header">
            <h1>ğŸœ BADA</h1>
            <button class="settings-btn" onclick="openSettings()">âš™ï¸</button>
        </div>

        <!-- ì‹ ê·œ ê°€ì… í™˜ì˜ ë°°ë„ˆ -->
        <div id="welcomeBanner" class="welcome-banner" style="display: none;">
            <h3>ğŸ‰ Welcome to BADA!</h3>
            <p>You've earned 50 bonus points to get started</p>
        </div>

        <!-- ë©¤ë²„ì‹­ ì¹´ë“œ -->
        <div class="membership-card">
            <div class="card-header">
                <div class="card-tier" id="memberTier">PREMIUM MEMBER</div>
                <div class="card-name" id="memberName">Loading...</div>
                <div class="qr-container">
                    <div class="qr-code" id="qrCode">
                        QR CODE
                    </div>
                </div>
                <div class="card-phone" id="memberPhone">+971 XXX XXXX</div>
            </div>
        </div>

        <!-- í¬ì¸íŠ¸ ì„¹ì…˜ -->
        <div class="points-section">
            <div class="points-label">ğŸ’ Your Points</div>
            <div class="points-value" id="pointsValue">0</div>
            <div class="points-aed" id="pointsAED">= 0 AED discount</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
            <div class="progress-text" id="progressText">
                0 more points â†’ Next tier!
            </div>
        </div>

        <!-- ì¿ í° ì„¹ì…˜ -->
        <div class="section-title">ğŸŸï¸ Active Coupons <span id="couponCount">(0)</span></div>
        <div class="coupons-container" id="couponsContainer">
            <!-- ì¿ í°ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë¨ -->
        </div>

        <!-- í™œë™ ì„¹ì…˜ -->
        <div class="section-title">ğŸ“Š Your Activity</div>
        <div class="activity-section">
            <div class="activity-grid">
                <div class="activity-item">
                    <div class="activity-label">Total Visits</div>
                    <div class="activity-value" id="totalVisits">0</div>
                </div>
                <div class="activity-item">
                    <div class="activity-label">Member Since</div>
                    <div class="activity-value" id="memberSince">-</div>
                </div>
                <div class="activity-item">
                    <div class="activity-label">Last Visit</div>
                    <div class="activity-value" id="lastVisit">-</div>
                </div>
                <div class="activity-item">
                    <div class="activity-label">Favorite</div>
                    <div class="activity-value" id="favoriteMenu">-</div>
                </div>
            </div>
        </div>

        <!-- ì•¡ì…˜ ë²„íŠ¼ -->
        <div class="action-buttons">
            <button class="action-btn" onclick="inviteFriend()">
                ğŸ‘¥ Invite Friend
            </button>
            <button class="action-btn" onclick="addToWallet()">
                ğŸ’³ Add to Wallet
            </button>
        </div>

        <!-- ë‹¤ìŒ ë¦¬ì›Œë“œ -->
        <div class="next-reward" id="nextReward">
            ğŸ‰ Next reward: Silver status at 5 visits or 1,000 AED
        </div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script>
        // ============================================
        // ì„¤ì •
        // ============================================
        const API_URL = 'https://script.google.com/macros/s/AKfycbwvWhJABsvtUxOHZ_yLmX-k27sJ4ZLLjCIVIWZlRRFMurzCHwyXjteS5q9GatFpEbyTfQ/exec';
        const STORAGE_KEY = 'bada_membership_phone';

        let customerData = null;

        // ============================================
        // ë””ë²„ê·¸ ë¡œê¹…
        // ============================================
        function debugLog(message, data) {
            console.log('ğŸ” DEBUG:', message, data);
            
            // í™”ë©´ì—ë„ í‘œì‹œ (ê°œë°œìš©)
            const debugDiv = document.getElementById('debugInfo');
            if (debugDiv) {
                debugDiv.innerHTML += `<div>${message}: ${JSON.stringify(data)}</div>`;
            }
        }

        // ============================================
        // í˜ì´ì§€ ë¡œë“œ
        // ============================================
        window.addEventListener('load', async () => {
            debugLog('Page loaded', new Date());
            
            // URL íŒŒë¼ë¯¸í„° ì²´í¬
            const urlParams = new URLSearchParams(window.location.search);
            const isNewMember = urlParams.get('new') === '1';
            debugLog('Is new member?', isNewMember);

            // LocalStorageì—ì„œ ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
            const savedPhone = localStorage.getItem(STORAGE_KEY);
            debugLog('Saved phone from LocalStorage', savedPhone);

            if (!savedPhone) {
                debugLog('No phone found', 'Redirecting to index');
                showError('No membership found. Please register first.');
                return;
            }

            // ê³ ê° ì •ë³´ ë¡œë“œ
            await loadCustomerData(savedPhone, isNewMember);
        });

        // ============================================
        // ê³ ê° ë°ì´í„° ë¡œë“œ
        // ============================================
        async function loadCustomerData(phone, isNewMember = false) {
            debugLog('Loading customer data for', phone);
            
            try {
                debugLog('Making API call to', API_URL);
                
                const requestBody = {
                    action: 'findByPhone',
                    phone: phone
                };
                debugLog('Request body', requestBody);

                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'text/plain',
                    },
                    body: JSON.stringify(requestBody)
                });

                debugLog('Response status', response.status);
                
                const result = await response.json();
                debugLog('API response', result);

                if (result && result.customer_id) {
                    customerData = result;
                    debugLog('Customer data loaded', customerData);
                    displayMembershipCard(isNewMember);
                } else {
                    debugLog('Invalid response', result);
                    showError('Could not load your membership. API returned: ' + JSON.stringify(result));
                }

            } catch (error) {
                debugLog('Load error', error.toString());
                console.error('Full error:', error);
                showError('Connection error: ' + error.message);
            }
        }

        // ============================================
        // ë©¤ë²„ì‹­ ì¹´ë“œ í‘œì‹œ
        // ============================================
        function displayMembershipCard(isNewMember) {
            debugLog('Displaying card', { isNewMember, customerData });
            
            // ë¡œë”© ìˆ¨ê¸°ê¸°
            document.getElementById('loading').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';

            // ì‹ ê·œ ê°€ì…ì í™˜ì˜ ë°°ë„ˆ
            if (isNewMember) {
                document.getElementById('welcomeBanner').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('welcomeBanner').style.display = 'none';
                }, 5000);
            }

            // ê¸°ë³¸ ì •ë³´
            document.getElementById('memberTier').textContent = 
                (customerData.member_tier || 'Bronze').toUpperCase() + ' MEMBER';
            
            document.getElementById('memberName').textContent = 
                customerData.name || 'Valued Guest';
            
            document.getElementById('memberPhone').textContent = 
                maskPhone(customerData.phone_number);

            // QR ì½”ë“œ ìƒì„±
            generateQRCode(customerData.customer_id);

            // í¬ì¸íŠ¸
            const points = customerData.available_points || 0;
            const pointsAED = Math.floor(points / 20);
            
            document.getElementById('pointsValue').textContent = points;
            document.getElementById('pointsAED').textContent = `= ${pointsAED} AED discount`;

            // ì§„í–‰ë¥  ê³„ì‚°
            updateProgressBar(customerData);

            // í™œë™ ì •ë³´
            document.getElementById('totalVisits').textContent = 
                customerData.total_visits || 0;
            
            document.getElementById('memberSince').textContent = 
                formatDate(customerData.created_at);
            
            document.getElementById('lastVisit').textContent = 
                customerData.last_visit_date ? formatDateRelative(customerData.last_visit_date) : 'Never';
            
            document.getElementById('favoriteMenu').textContent = 
                customerData.favorite_menu || '-';

            // ì¿ í° ë¡œë“œ
            loadCoupons();

            // ë‹¤ìŒ ë¦¬ì›Œë“œ
            updateNextReward(customerData);
            
            debugLog('Card display complete', 'Success');
        }

        // ============================================
        // QR ì½”ë“œ ìƒì„±
        // ============================================
        function generateQRCode(customerId) {
            const qrContainer = document.getElementById('qrCode');
            qrContainer.innerHTML = '';

            try {
                new QRCode(qrContainer, {
                    text: customerId,
                    width: 150,
                    height: 150,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
                debugLog('QR code generated', customerId);
            } catch (error) {
                debugLog('QR generation error', error);
                qrContainer.textContent = customerId;
            }
        }

        // ============================================
        // ì§„í–‰ë¥  ë°” ì—…ë°ì´íŠ¸
        // ============================================
        function updateProgressBar(customer) {
            const tier = customer.member_tier || 'Bronze';
            const visits = customer.total_visits || 0;
            const spent = customer.total_spent || 0;

            let nextTier, targetVisits, targetSpent, progress, remaining;

            if (tier === 'Bronze') {
                nextTier = 'Silver';
                targetVisits = 5;
                targetSpent = 1000;
                progress = Math.max(
                    (visits / targetVisits) * 100,
                    (spent / targetSpent) * 100
                );
                remaining = Math.max(0, targetVisits - visits);
            } else if (tier === 'Silver') {
                nextTier = 'Gold';
                targetVisits = 15;
                targetSpent = 3000;
                progress = Math.max(
                    (visits / targetVisits) * 100,
                    (spent / targetSpent) * 100
                );
                remaining = Math.max(0, targetVisits - visits);
            } else if (tier === 'Gold') {
                nextTier = 'Platinum';
                targetVisits = 30;
                targetSpent = 10000;
                progress = Math.max(
                    (visits / targetVisits) * 100,
                    (spent / targetSpent) * 100
                );
                remaining = Math.max(0, targetVisits - visits);
            } else {
                nextTier = 'MAX';
                progress = 100;
                remaining = 0;
            }

            document.getElementById('progressBar').style.width = Math.min(progress, 100) + '%';
            
            if (nextTier === 'MAX') {
                document.getElementById('progressText').textContent = 
                    'ğŸ† You\'ve reached the highest tier!';
            } else {
                document.getElementById('progressText').textContent = 
                    `${remaining} more visits â†’ ${nextTier}!`;
            }
        }

        // ============================================
        // ë‹¤ìŒ ë¦¬ì›Œë“œ ì—…ë°ì´íŠ¸
        // ============================================
        function updateNextReward(customer) {
            const tier = customer.member_tier || 'Bronze';
            const visits = customer.total_visits || 0;
            const spent = customer.total_spent || 0;

            let message = '';

            if (tier === 'Bronze') {
                const visitsNeeded = Math.max(0, 5 - visits);
                const spentNeeded = Math.max(0, 1000 - spent);
                message = `ğŸ‰ Next reward: Silver status at ${visitsNeeded} more visits or ${spentNeeded} AED`;
            } else if (tier === 'Silver') {
                const visitsNeeded = Math.max(0, 15 - visits);
                const spentNeeded = Math.max(0, 3000 - spent);
                message = `ğŸ‰ Next reward: Gold status at ${visitsNeeded} more visits or ${spentNeeded} AED`;
            } else if (tier === 'Gold') {
                const visitsNeeded = Math.max(0, 30 - visits);
                const spentNeeded = Math.max(0, 10000 - spent);
                message = `ğŸ‰ Next reward: Platinum status at ${visitsNeeded} more visits or ${spentNeeded} AED`;
            } else {
                message = 'ğŸ† You are at the highest tier! Thank you for your loyalty!';
            }

            document.getElementById('nextReward').textContent = message;
        }

        // ============================================
        // ì¿ í° ë¡œë“œ
        // ============================================
        function loadCoupons() {
            const container = document.getElementById('couponsContainer');
            
            const sampleCoupons = [
                {
                    title: 'ğŸ Welcome Bonus',
                    description: 'Free appetizer with any main dish',
                    expiry: 'Valid: 7 days',
                    badge: 'NEW'
                }
            ];

            if (sampleCoupons.length === 0) {
                container.innerHTML = '<p style="color: #9ca3af; text-align: center; padding: 20px;">No active coupons yet</p>';
                document.getElementById('couponCount').textContent = '(0)';
                return;
            }

            document.getElementById('couponCount').textContent = `(${sampleCoupons.length})`;

            container.innerHTML = sampleCoupons.map((coupon, index) => `
                <div class="coupon-card">
                    <div class="coupon-header">
                        <div>
                            <div class="coupon-title">${coupon.title}</div>
                            <div class="coupon-description">${coupon.description}</div>
                        </div>
                        <div class="coupon-badge">${coupon.badge}</div>
                    </div>
                    <div class="coupon-footer">
                        <div class="coupon-expiry">${coupon.expiry}</div>
                        <button class="use-btn" onclick="useCoupon(${index})">Use Coupon â†’</button>
                    </div>
                </div>
            `).join('');
        }

        // ============================================
        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        // ============================================

        function maskPhone(phone) {
            if (!phone) return '+971 XXX XXXX';
            const phoneStr = String(phone); // ë¬¸ìì—´ë¡œ ë³€í™˜
            const last4 = phoneStr.slice(-4);
            return '+971 XXX ' + last4;
        }
               

        function formatDate(dateString) {
            if (!dateString) return '-';
            const date = new Date(dateString);
            const month = date.toLocaleString('en', { month: 'short' });
            const year = date.getFullYear();
            return `${month} ${year}`;
        }

        function formatDateRelative(dateString) {
            if (!dateString) return 'Never';
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays === 0) return 'Today';
            if (diffDays === 1) return 'Yesterday';
            if (diffDays < 7) return `${diffDays} days ago`;
            if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;
            return `${Math.floor(diffDays / 30)} months ago`;
        }

        function showError(message) {
            debugLog('Showing error', message);
            document.getElementById('loading').style.display = 'none';
            document.getElementById('error').style.display = 'block';
            document.getElementById('errorMessage').textContent = message;
        }

        // ============================================
        // ì•¡ì…˜ í•¨ìˆ˜ë“¤
        // ============================================

        function useCoupon(index) {
            alert('Coupon usage feature coming soon!\n\nShow this screen to staff to redeem your coupon.');
        }

        function inviteFriend() {
            const referralLink = `https://ykhholdings.github.io/bada-membership/?ref=${customerData.customer_id}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Join BADA Restaurant',
                    text: 'Get 10% OFF your first meal at BADA!',
                    url: referralLink
                });
            } else {
                alert('Referral link:\n\n' + referralLink + '\n\nShare this with your friends!');
            }
        }

        function addToWallet() {
            alert('Add to Wallet feature coming soon!\n\nFor now, you can bookmark this page or add to home screen.');
        }

        function openSettings() {
            if (confirm('Sign out and return to registration?')) {
                localStorage.removeItem(STORAGE_KEY);
                window.location.href = 'index.html';
            }
        }
    </script>
    
    <!-- ë””ë²„ê·¸ ì •ë³´ (í™”ë©´ í•˜ë‹¨, ê°œë°œìš©) -->
    <div id="debugInfo" style="position: fixed; bottom: 0; left: 0; right: 0; background: #000; color: #0f0; font-size: 10px; padding: 10px; max-height: 150px; overflow-y: auto; font-family: monospace; display: none;">
    </div>
    
    <!-- F12ë¥¼ ëˆŒëŸ¬ì„œ Console í™•ì¸ìš© ì•ˆë‚´ -->
    <script>
        // Ctrl+Shift+Dë¡œ ë””ë²„ê·¸ ì •ë³´ í† ê¸€
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'D') {
                const debugDiv = document.getElementById('debugInfo');
                debugDiv.style.display = debugDiv.style.display === 'none' ? 'block' : 'none';
            }
        });
    </script>
```

**3. ì €ì¥:**
```
í•˜ë‹¨ "Commit changes" í´ë¦­
```

---

## ğŸ“± ë‹¤ì‹œ í…ŒìŠ¤íŠ¸

**1-2ë¶„ ê¸°ë‹¤ë¦° í›„:**
```
1. ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ (ë˜ëŠ” ìºì‹œ ì‚­ì œ)
2. ë‹¤ì‹œ ê°€ì… ì‹œë„: https://ykhholdings.github.io/bada-membership/
3. ìƒˆ ì „í™”ë²ˆí˜¸ë¡œ ê°€ì…: 50 888 9999
```

**ì—ëŸ¬ê°€ ë‹¤ì‹œ ë‚˜ë©´:**
```
1. í°ì—ì„œ F12 ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ
2. PC ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸
3. F12 ëˆŒëŸ¬ì„œ Console íƒ­ í™•ì¸
4. ì—ëŸ¬ ë©”ì‹œì§€ ë³µì‚¬í•´ì„œ ì•Œë ¤ì£¼ì„¸ìš”
```

---

## ğŸ” ë˜ëŠ” ì¦‰ì‹œ í™•ì¸:

**PCì—ì„œ í…ŒìŠ¤íŠ¸:**
```
1. PC ë¸Œë¼ìš°ì €ë¡œ https://ykhholdings.github.io/bada-membership/ ì ‘ì†
2. F12 ëˆ„ë¥´ê¸° â†’ Console íƒ­
3. ê°€ì… ì§„í–‰
4. Consoleì— "ğŸ” DEBUG:" ë©”ì‹œì§€ë“¤ì´ ë³´ì„
5. ì–´ë””ì„œ ì—ëŸ¬ ë‚˜ëŠ”ì§€ í™•ì¸
6. ìŠ¤í¬ë¦°ìƒ·ì´ë‚˜ ì—ëŸ¬ ë©”ì‹œì§€ ì•Œë ¤ì£¼ì„¸ìš”
</body>
</html>
```

**3. íŒŒì¼ ì»¤ë°‹:**
```
í•˜ë‹¨ "Commit new file" í´ë¦­
```

---

## ğŸ¯ STEP 4 ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì™„ë£Œë˜ë©´ í…ŒìŠ¤íŠ¸í•´ë´…ì‹œë‹¤!

### í…ŒìŠ¤íŠ¸ ìˆœì„œ:

**1. ì‹ ê·œ ê°€ì… â†’ ì¹´ë“œ í™•ì¸**
```
1. https://ykhholdings.github.io/bada-membership/ ì ‘ì†
2. ìƒˆ ì „í™”ë²ˆí˜¸ë¡œ ê°€ì…: 50 555 6666
3. ìë™ìœ¼ë¡œ card.htmlë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
4. ë©¤ë²„ì‹­ ì¹´ë“œ ë³´ì´ëŠ”ì§€ í™•ì¸!
```

**2. ê¸°ì¡´ íšŒì› ì§ì ‘ ì ‘ì†**
```
1. https://ykhholdings.github.io/bada-membership/card.html ì ‘ì†
2. ì´ë¯¸ ì €ì¥ëœ ë²ˆí˜¸ë¡œ ìë™ ë¡œë“œ
3. í¬ì¸íŠ¸, ì¿ í° í‘œì‹œ í™•ì¸
